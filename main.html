<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>æˆ‘ä»¬çš„å›å¿†</title>
  <style>
    /* â”€â”€â”€â”€â”€ ä¸»é¢˜å˜é‡ â”€â”€â”€â”€â”€ */
    :root {
      --bg1: #b3d9ff;
      --bg2: #ffe6f0;
      --primary: #ff6f9c;
      --accent: #7ab8ff;
      --white: #fff;
      --carousel-height: 300px;
      --img-width: 260px;
      --img-height: 200px;
      --speed: 0.5; /* px/frame */
    }

    /* â”€â”€â”€â”€â”€ å…¨å±€ & æ¼‚æµ®äº‘æœµ â”€â”€â”€â”€â”€ */
    html, body {
      margin: 0; padding: 0;
      height: 100%;
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow-x: hidden;
      position: relative;
    }
    .cloud {
      position: absolute; fill: var(--white); opacity: .6;
      animation: drift linear infinite;
    }
    .cloud:nth-child(1) { width: 180px; top: 5%; left: -30%; animation-duration: 35s; }
    .cloud:nth-child(2) { width: 120px; top: 25%; left: -25%; animation-duration: 25s; }
    .cloud:nth-child(3) { width: 220px; top: 50%; left: -35%; animation-duration: 45s; }
    @keyframes drift {
      from { transform: translateX(0); }
      to   { transform: translateX(150vw); }
    }

    /* â”€â”€â”€â”€â”€ é¡¶éƒ¨èœå• â”€â”€â”€â”€â”€ */
    header {
      position: sticky; top: 0; z-index: 10;
      background: rgba(255,255,255,0.9);
      display: flex; justify-content: center; gap: 24px;
      padding: 12px 0; backdrop-filter: blur(6px);
    }
    header a {
      color: var(--primary); text-decoration: none; font-weight: 600;
      padding: 6px 12px; border-radius: 4px; cursor: pointer;
      transition: background .2s, color .2s;
    }
    header a.active,
    header a:hover {
      background: var(--primary); color: #fff;
    }

    .main { max-width: 1100px; margin: 0 auto; padding: 20px; }

    /* â”€â”€â”€â”€â”€ é¢æ¿åˆ‡æ¢ â”€â”€â”€â”€â”€ */
    .panel {
      display: none;
      opacity: 0; transform: translateY(20px);
      transition: opacity .4s, transform .4s;
    }
    .panel.active {
      display: block;
      opacity: 1; transform: translateY(0);
    }

    /* â”€â”€â”€â”€â”€ èµ°é©¬ç¯ç…§ç‰‡å¢™ â”€â”€â”€â”€â”€ */
    .carousel {
      position: relative; overflow: hidden;
      height: var(--carousel-height); margin-bottom: 32px;
      border-radius: 12px; box-shadow: 0 6px 16px rgba(0,0,0,0.12);
    }
    .track {
      display: flex; white-space: nowrap;
      transform: translateX(0);
    }
    .track img {
      width: var(--img-width); height: var(--img-height);
      object-fit: cover; margin: 0 12px; border-radius: 8px;
      animation: pulse 4s ease-in-out infinite;
      flex-shrink: 0;
    }
    @keyframes pulse {
      0%,100% { transform: scale(0.9); }
      50%     { transform: scale(1.1); }
    }
    .carousel__arrow {
      position: absolute; top: 50%; transform: translateY(-50%);
      width: 36px; height: 36px; background: rgba(255,255,255,0.8);
      border-radius: 50%; display: flex; align-items: center;
      justify-content: center; cursor: pointer; user-select: none;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      transition: background .2s; font-size: 20px; color: var(--primary);
    }
    .carousel__arrow:hover { background: rgba(255,255,255,1); }
    .carousel__arrow--left  { left: 12px; }
    .carousel__arrow--right { right: 12px; }

    /* â”€â”€â”€â”€â”€ æ—¶é—´çº¿ â”€â”€â”€â”€â”€ */
    .timeline {
      border-left: 3px solid var(--primary);
      padding-left: 18px;
    }
    .timeline .item {
      position: relative; margin: 16px 0;
    }
    .timeline .dot {
      position: absolute; left: -6px; top: 6px;
      width: 10px; height: 10px; background: var(--primary);
      border-radius: 50%;
    }
    .timeline .date {
      font-size: 12px; color: #888; margin-bottom: 4px;
    }

    /* â”€â”€â”€â”€â”€ æ‰“å­—æƒ…ä¹¦ â”€â”€â”€â”€â”€ */
    #letterText {
      min-height: 100px; white-space: pre-wrap;
      padding: 12px; background: var(--white);
      border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    /* â”€â”€â”€â”€â”€ æ„¿æœ›æ¸…å• â”€â”€â”€â”€â”€ */
    #wishlist input {
      padding: 8px 12px; width: 60%; max-width: 300px;
      border: 1px solid #ddd; border-radius: 8px;
      outline: none; transition: border .2s, box-shadow .2s;
    }
    #wishlist input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(122,184,255,.15);
    }
    #wishlist button {
      padding: 8px 14px; margin-left: 8px;
      background: var(--accent); color: #fff;
      border: none; border-radius: 999px; cursor: pointer;
    }
    #wishlist ul {
      margin-top: 12px; list-style: none; padding: 0;
    }
    #wishlist li {
      display: flex; align-items: center; justify-content: space-between;
      padding: 8px 12px; background: #f0f8ff;
      border-radius: 6px; margin-bottom: 6px;
      transition: background .2s, color .2s;
    }
    .wish-info {
      display: flex; align-items: center; flex: 1;
    }
    .wish-checkbox {
      width: 18px; height: 18px; margin-right: 10px;
      cursor: pointer;
    }
    .wish-text {
      flex: 1; font-size: 14px;
    }
    .wish-date {
      font-size: 12px; color: #888; margin-left: 12px;
      white-space: nowrap;
    }
    li.completed {
      background: #ececec; color: #aaa;
    }
    li.completed .wish-text,
    li.completed .wish-date {
      text-decoration: line-through;
    }

    /* â”€â”€â”€â”€â”€ å°æ¸¸æˆ â”€â”€â”€â”€â”€ */
    #timer {
      font-size: 16px; color: var(--primary);
      margin-bottom: 8px;
    }
    #heartsContainer {
      position: relative; height: 400px; background: #ffe6f0;
      border-radius: 12px; overflow: hidden;
      box-shadow: inset 0 0 0 2px #ffd1e1;
    }
    #heartsContainer span {
      position: absolute; font-size: 36px; cursor: default;
      user-select: none;
    }
    #game button {
      padding: 8px 14px; background: var(--primary);
      color: #fff; border: none; border-radius: 999px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- èƒŒæ™¯äº‘ -->
  <svg class="cloud" viewBox="0 0 64 40"><ellipse cx="16" cy="24" rx="16" ry="12"/><ellipse cx="48" cy="24" rx="16" ry="12"/><ellipse cx="32" cy="16" rx="20" ry="12"/></svg>
  <svg class="cloud" viewBox="0 0 64 40"><ellipse cx="16" cy="24" rx="16" ry="12"/><ellipse cx="48" cy="24" rx="16" ry="12"/><ellipse cx="32" cy="16" rx="20" ry="12"/></svg>
  <svg class="cloud" viewBox="0 0 64 40"><ellipse cx="16" cy="24" rx="16" ry="12"/><ellipse cx="48" cy="24" rx="16" ry="12"/><ellipse cx="32" cy="16" rx="20" ry="12"/></svg>

  <header>
    <a data-sec="home" class="active">é¦–é¡µ</a>
    <a data-sec="loveLetter">æ‰“å­—æƒ…ä¹¦</a>
    <a data-sec="wishlist">æ„¿æœ›æ¸…å•</a>
    <a data-sec="game">å°æ¸¸æˆ</a>
  </header>

  <div class="main">
    <!-- é¦–é¡µ -->
    <div id="home" class="panel active">
      <div class="carousel" id="carousel">
        <div class="track" id="track">
          <img src="12.png" alt="">
          <img src="13.png" alt="">
          <img src="14.png" alt="">
          <!-- å…‹éš†ä¸€æ¬¡è¾¾åˆ°æ— ç¼æ•ˆæœ -->
          <img src="12.png" alt="">
          <img src="13.png" alt="">
          <img src="14.png" alt="">
        </div>
        <div class="carousel__arrow carousel__arrow--left">â€¹</div>
        <div class="carousel__arrow carousel__arrow--right">â€º</div>
      </div>

      <section class="timeline">
        <div class="item"><div class="dot"></div>
          <div class="date">2025-07-16</div>ç›¸è¯†
        </div>
        <div class="item"><div class="dot"></div>
          <div class="date">2025-08-29</div>ç¬¬ä¸€æ¬¡æƒ…äººèŠ‚
        </div>
        <div class="item"><div class="dot"></div>
          <div class="date">2025</div>å¾…å®š
        </div>
      </section>
    </div>

    <!-- æ‰“å­—æƒ…ä¹¦ -->
    <div id="loveLetter" class="panel">
      <h3>æ‰“å­—æƒ…ä¹¦</h3>
      <div id="letterText"></div>
      <button onclick="typeLetter()">é‡æ’­</button>
    </div>

    <!-- æ„¿æœ›æ¸…å• -->
    <div id="wishlist" class="panel">
      <h3>æ„¿æœ›æ¸…å•ç“¶</h3>
      <div>
        <input id="wishInput" placeholder="è¾“å…¥æ„¿æœ›">
        <button onclick="addWish()">æ·»åŠ </button>
      </div>
      <ul id="wishList"></ul>
    </div>

    <!-- æ¸¸æˆ -->
    <div id="game" class="panel">
      <h3>æ¥ä½çˆ±å¿ƒ</h3>
      <div id="timer">å‰©ä½™æ—¶é—´ï¼š30s</div>
      <button onclick="startGame()">å¼€å§‹æ¸¸æˆ</button>
      <div id="heartsContainer"></div>
      <div>å¾—åˆ†ï¼š<span id="score">0</span></div>
    </div>
  </div>

  <script>
  /* â”€â”€â”€ é¢æ¿ & èœå•åˆ‡æ¢ â”€â”€â”€ */
  const menuLinks = document.querySelectorAll('header a');
  function showSection(id) {
    document.querySelectorAll('.panel')
      .forEach(p => p.classList.toggle('active', p.id === id));
    menuLinks.forEach(a =>
      a.classList.toggle('active', a.dataset.sec === id)
    );
    if (id === 'loveLetter') typeLetter();
  }
  menuLinks.forEach(a =>
    a.addEventListener('click', () => showSection(a.dataset.sec))
  );

  /* â”€â”€â”€ èµ°é©¬ç¯é€»è¾‘ â”€â”€â”€ */
  const carousel = document.getElementById('carousel');
  const track    = document.getElementById('track');
  const imgs     = track.querySelectorAll('img');
  const leftBtn  = carousel.querySelector('.carousel__arrow--left');
  const rightBtn = carousel.querySelector('.carousel__arrow--right');
  let offset = 0, paused = false;
  const step = parseInt(getComputedStyle(imgs[0]).width) + 24;
  const totalWidth = (imgs.length / 2) * step;

  function animate() {
    if (!paused) {
      offset -= parseFloat(getComputedStyle(
        document.documentElement).getPropertyValue('--speed'));
      if (offset <= -totalWidth) offset = 0;
      track.style.transform = `translateX(${offset}px)`;
    }
    requestAnimationFrame(animate);
  }
  requestAnimationFrame(animate);

  ['mouseenter','touchstart'].forEach(evt=>{
    carousel.addEventListener(evt, ()=> paused = true);
    carousel.addEventListener(
      evt === 'mouseenter' ? 'mouseleave' : 'touchend',
      ()=> paused = false
    );
  });

  leftBtn.addEventListener('click', ()=> offset += step);
  rightBtn.addEventListener('click', ()=> offset -= step);

  /* â”€â”€â”€ æ‰“å­—æƒ…ä¹¦ï¼ˆéšæœºï¼‰ â”€â”€â”€ */
  const letters = [
    `å®å®ï¼Œ\næˆ‘æ¯å¤©éƒ½æœ‰å†æƒ³ä½ ï¼Œä½ æ˜¯æˆ‘å¿ƒé‡Œçš„ç¬¬ä¸€ä½ã€‚`,
    `å®å®ï¼Œ\nä½ çš„ç¬‘å®¹ï¼Œæ˜¯æˆ‘è§è¿‡æœ€ç¾çš„é£æ™¯ã€‚å¸Œæœ›ä½ èƒ½å¤©å¤©å¼€å¿ƒ`,
    `æœ€çˆ±çš„æ˜¯ä½ ï¼Œ\nä¹Ÿåªæ„¿å’Œä½ å¹¶è‚©çœ‹éä¸–ç•Œçš„æ¯ä¸€æ¬¡æ—¥å‡ºã€‚`
  ];
  function typeLetter(){
    clearInterval(window.letterTimer);
    const text = letters[Math.floor(Math.random()*letters.length)];
    const el = document.getElementById('letterText');
    el.textContent = '';
    let i = 0;
    window.letterTimer = setInterval(()=>{
      el.textContent += text[i] || '';
      i++; if(i > text.length) clearInterval(window.letterTimer);
    }, 60);
  }

  /* â”€â”€â”€ æ„¿æœ›æ¸…å•ï¼ˆlocalStorage æŒä¹…åŒ–ï¼‰ â”€â”€â”€ */
  const STORAGE_KEY = 'my_wishes';
  let wishes = [];
  function loadWishes(){
    const data = localStorage.getItem(STORAGE_KEY);
    wishes = data ? JSON.parse(data) : [];
  }
  function saveWishes(){
    localStorage.setItem(STORAGE_KEY, JSON.stringify(wishes));
  }
  function renderWishes(){
    const ul = document.getElementById('wishList');
    ul.innerHTML = '';
    wishes.forEach(item => {
      const li = document.createElement('li');
      li.dataset.id = item.id;
      if (item.done) li.classList.add('completed');
      li.innerHTML = `
        <div class="wish-info">
          <input type="checkbox" class="wish-checkbox"
            ${item.done?'checked':''}>
          <span class="wish-text">${item.text}</span>
          <span class="wish-date">${item.date}</span>
        </div>`;
      li.querySelector('.wish-checkbox')
        .addEventListener('change', e => {
          item.done = e.target.checked;
          saveWishes();
          renderWishes();
        });
      ul.appendChild(li);
    });
  }
  function addWish(){
    const input = document.getElementById('wishInput');
    const text = input.value.trim();
    if (!text) return;
    const date = new Date().toLocaleDateString('zh-CN');
    wishes.push({ id: Date.now().toString(), text, date, done: false });
    saveWishes();
    renderWishes();
    input.value = '';
  }
  document.addEventListener('DOMContentLoaded', ()=>{
    loadWishes();
    renderWishes();
  });

  /* â”€â”€â”€ å°æ¸¸æˆï¼šå¿ƒ â™¥ & ç‚¸å¼¹ ğŸ’¥ â”€â”€â”€ */
  let score = 0, gi, gt, timerInterval;
  function startGame(){
    score = 0; document.getElementById('score').innerText = 0;
    let timeLeft = 30;
    const timerEl = document.getElementById('timer');
    timerEl.textContent = `å‰©ä½™æ—¶é—´ï¼š${timeLeft}s`;

    clearInterval(gi); clearTimeout(gt); clearInterval(timerInterval);
    document.getElementById('heartsContainer').innerHTML = '';

    timerInterval = setInterval(()=>{
      timeLeft--;
      timerEl.textContent = `å‰©ä½™æ—¶é—´ï¼š${timeLeft}s`;
      if (timeLeft <= 0) clearInterval(timerInterval);
    }, 1000);

    gi = setInterval(()=>{
      const isBomb = Math.random() < 0.2;
      const span = document.createElement('span');
      span.textContent = isBomb ? 'ğŸ’¥' : 'ğŸ’—';
      span.style.left = Math.random()*85 + '%';
      span.style.top  = '-40px';
      document.getElementById('heartsContainer').appendChild(span);

      let pos = 0;
      const fall = setInterval(()=>{
        pos += 4; span.style.top = pos+'px';
        if(pos > 440){ clearInterval(fall); span.remove(); }
      }, 20);

      span.onmouseenter = ()=>{
        if(isBomb){
          score = Math.max(0, score-1);
        } else {
          score++;
        }
        document.getElementById('score').innerText = score;
        clearInterval(fall); span.remove();
      };
    }, 600);

    gt = setTimeout(()=>{
      clearInterval(gi); clearInterval(timerInterval);
      alert(`æ¸¸æˆç»“æŸï¼ä½ å¾—åˆ†ï¼š${score}`);
    }, 30000);
  }
  </script>
</body>
</html>



